<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ğŸ¥•ë‹¹ê·¼ë‚˜ë¼ ë²ˆê°œê³µì£¼</title>
<style type="text/css">
.scroll::-webkit-scrollbar { /* ìŠ¤í¬ë¡¤ ë°” ìˆ¨ê¹€ */
	display: none;
}

.scroll_mobile {
	overflow-y: auto; /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ë°”ë§Œ ìƒì„±*/
}

.scroll {
	-ms-overflow-style: none; /* ì¸í„°ë„· ìµìŠ¤í”Œë¡œëŸ¬ */
	scrollbar-width: none; /* íŒŒì´ì–´í­ìŠ¤ */
}
</style>
</head>
<body th:align="center">
	<div class="d-flex" id="wrapper">
		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<div th:insert="~{fragment/header :: header}"></div>
			<!-- Page content-->
			<div th:align="right">
				<a style="margin: 40px 40px 0 0;"type="button" class="btn btn-outline-dark flex-shrink-0"
					onclick="location.href='/product/insertProduct'">ìƒí’ˆ ë“±ë¡</a>
			</div>
			<!-- ê²€ìƒ‰	 ì¢…ë£Œ -->
			<br>

			<div id="product-main-view" th:align="center"
				style="justify-content: center;">
				<div th:each="product, state : ${productList}" class="card"
					style="width: 250px; margin-bottom: 40px;">
					<div
						style="margin: 0; padding: 0; width: 100%; height: 250px; overflow: hidden;">
						<a th:href="@{/product/getProduct(pNo=${product.pNo})}"><img
							th:src="@{${product.upload}}" class="card-img-top" alt="..."
							onerror="this.src='/images/carrot.png'"
							style="width: 100%; height: 100%; object-fit: cover;"></a>
					</div>
					<div class="card-body"
						th:href="@{/product/getProduct(pNo=${product.pNo})}"
						style="width: 250px;">
						<div
							style="width: 218px; overflow: hidden; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">
							<a
								style="font-size: 20; font-weight: bold; text-decoration: none;"
								class="card-title" th:text="${product.title}"></a>
						</div>
						<h5 class="card-text"
							th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + 'ì›'}"></h5>
						<br> <small class="card-text"
							th:text="${product.salesId.nickName}"></small><br> <small
							class="card-text"
							th:text="${#dates.format(product.regdate, 'yyyy-MM-dd (hh:mm)')}"></small><br>
						<br> <a href="#" class="btn btn-secondary">ê±°ë˜ì™„ë£Œ</a>
					</div>
				</div>
			</div>
			<br> <br>
			<hr>
			<br>
		</div>
	</div>

	<br>
</body>
<script type="text/javascript">
	$(document).ready(function() {
		console.log("ì‹œì‘");
		//windowëŠ” "#searchPopup"ë“± ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì£¼ì²´ë¡œ ë³€ê²½ê°€ëŠ¥
		$('#product-main-view').scroll(function() {
			var scrollTop = $('#product-main-view').scrollTop();
			var innerHeight = $('#product-main-view').innerHeight();
			var scrollHeight = $('#product-main-view').prop('scrollHeight');
			if (scrollTop + innerHeight >= scrollHeight) {
				moreData();
			}
		});
	});
	
	function moreData() {
		href.location="";
	}
</script>
</html>
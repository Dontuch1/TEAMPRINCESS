<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ÎßàÏù¥ ÌéòÏù¥ÏßÄ</title>
<style type="text/css">
.btn-outline-secondary, .btn-outline-primary {
   width: 100px;
   margin-top: 8px;
}
</style>
</head>

<body th:align="center">
   <div class="d-flex" id="wrapper">

      <!-- Page content wrapper-->
      <div id="page-content-wrapper">
         <div th:insert="~{fragment/header :: header}"></div>
         <!-- Page content-->
         <div class="container-fluid">
            <h4 class="mt-4">üõçÔ∏è Íµ¨Îß§ Î™©Î°ù</h4>
            <br>
            <div th:if="${buyList.empty}">
               <p>Íµ¨Îß§Ìïú ÏÉÅÌíàÏù¥ ÏóÜÏäµÎãàÎã§.</p>
            </div>
            <div id="mypage-product-list">
               <div class="card" th:each="product: ${buyList}">
                  <div class="card-img-square">
                     <a th:href="@{/product/getProduct(pNo=${product.key.pNo})}"><img
                        th:src="@{${product.key.upload}}" class="card-img-top" alt="..."
                        onerror="this.src='https://buly.kr/9BSKdMj'"></a>
                  </div>
                  <div class="card-body">
                     <h5 class="card-title" th:text="${product.key.title}"></h5>
                     <h5 class="card-text" th:text="${product.key.price}">Ïõê</h5>
                     <p class="card-text"
                        th:switch="${product.key.pCategory.toString()}">
                        <span th:case="DIGI">ÎîîÏßÄÌÑ∏/Í∞ÄÏ†Ñ</span> <span th:case="FURN">Í∞ÄÍµ¨</span>
                        <span th:case="CLOT">ÏùòÎ•ò/Ïû°Ìôî</span> <span th:case="BEAU">Î∑∞Ìã∞</span>
                        <span th:case="ETC">Í∏∞ÌÉÄ</span>
                     </p>
                     <!-- Î™®Îã¨ ÏãúÏûë -->
                     <form action="/mypage/insertReview" method="post">
                        <input type="hidden" name="pNo" th:value="${product.key.pNo}">
                        <div class="modal fade" id="exampleModalToggle"
                           aria-labelledby="exampleModalToggleLabel" tabindex="-1"
                           aria-hidden="true" style="display: none">
                           <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                 <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalToggleLabel">
                                       ÌõÑÍ∏∞ ÎÇ®Í∏∞Í∏∞</h1>
                                    <button type="button" class="btn-close"
                                       data-bs-dismiss="modal" aria-label="Close"></button>
                                 </div>
                                 <div class="modal-body">
                                    <div class="form-check form-check-inline">
                                       <input class="form-check-input" type="radio" name="rating"
                                          id="inlineRadio1" value="UP" checked /> <label
                                          class="form-check-label" for="inlineRadio1">üëç Ï¢ãÏïÑÏöî</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                       <input class="form-check-input" type="radio" name="rating"
                                          id="inlineRadio2" value="DOWN" /> <label
                                          class="form-check-label" for="inlineRadio2">üëé
                                          Î≥ÑÎ°úÏóêÏöî</label>
                                    </div>
                                 </div>
                                 <div class="modal-footer">
                                    <button class="btn btn-primary"
                                       data-bs-target="#exampleModalToggle2"
                                       data-bs-toggle="modal">Îã§Ïùå</button>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="modal fade" id="exampleModalToggle2"
                           aria-labelledby="exampleModalToggleLabel2" tabindex="-1"
                           aria-hidden="true" style="display: none">
                           <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                 <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">
                                       Ìïú Ï§Ñ ÌèâÍ∞Ä</h1>
                                    <button type="button" class="btn-close"
                                       data-bs-dismiss="modal" aria-label="Close"></button>
                                 </div>
                                 <div class="modal-body">
                                    <input type="text" name="content" size="50pt" maxlength="50"
                                       required="required" /> <span style="color: gray"> <br>ÏµúÎåÄ
                                       50Ïûê
                                    </span>
                                 </div>
                                 <div class="modal-footer">
                                    <button class="btn btn-primary" type="submit">ÌõÑÍ∏∞
                                       Î≥¥ÎÇ¥Í∏∞</button>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <input type="text" name="rec" id="whoIsSeller"
                           th:value="${product.value[1]}"> <input type="text"
                           name="rec" id="whoIsThunder"
                           th:value="${product.value[0]}">

                        <hr style="border: 1px dashed gray">

                        <div th:align="center"
                           th:attr="style=${product.key.delevery.toString() == 'Y'} ? 'display: grid; grid-template-columns: 1fr 1fr;' : 'display: grid; grid-template-columns: 1fr;'">
                           <div>

                              <span>ÌåêÎß§Ïûê</span> <br>
                              <button class="btn btn-outline-primary"
                                 onclick="whoIsReceiver();"
                                 th:if="${!product.value[1].isEmpty()}"
                                 data-bs-target="#exampleModalToggle" data-bs-toggle="modal">ÏûëÏÑ±</button>
                              <button th:if="${product.value[1].isEmpty()}"
                                 class="btn btn-outline-secondary"
                                 data-bs-target="#exampleModalToggle" data-bs-toggle="modal"
                                 disabled>ÏôÑÎ£å</button>
                           </div>
                           <div th:if="${product.key.delevery.toString() == 'Y'}">
                              <span>Ï≤úÎë•Îß®</span><br>
                              <button class="btn btn-outline-primary"
                                 onclick="whoIsReceiver();"
                                 th:if="${!product.value[0].isEmpty()}"
                                 data-bs-target="#exampleModalToggle" data-bs-toggle="modal">ÏûëÏÑ±</button>
                              <button th:if="${product.value[0].isEmpty()}"
                                 class="btn btn-outline-secondary"
                                 data-bs-target="#exampleModalToggle" data-bs-toggle="modal"
                                 disabled>ÏôÑÎ£å</button>
                           </div>
                        </div>
                     </form>
                     <!-- Î™®Îã¨ ÎÅù -->
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
<script th:inline="javascript">
   function whoIsReceiver(val) {
      console.log("ÏãúÎ∞ú");
      if (val == 1) {
         $('#whoIsThunder').remove();
      } else {
         $('#whoIsSeller').remove();
      }
   }
</script>

<!-- Bootstrap CSS -->
<link rel="stylesheet"
   href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

<!-- Bootstrap JavaScript Î∞è jQuery -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script
   src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</html>